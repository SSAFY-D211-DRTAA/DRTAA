# D211 : 이재영

## 8/26 Mon.
### - Sub PJT 1
1. **ROS(Virtual Box) 통신을 활용한 MORAI Sim에서의 토픽 정보 확인**
    - Ego car에서의 Sensor 배치 및 데이터 활용법
    - ROS1 명령어 학습

## 8/27 Tue.
### - Sub PJT 2 관련 개념 
1. **GPS 좌표계**
    - WGS84(World Geodetic System) : 세계 지구 좌표 시스템
    - 한반도의 경우 UTM 52 좌표 사용  
    => GPS 센서로 받은 WGS84 좌표 기반 데이터를 UTM 좌표로 변환  

2. **물체의 자세**
    - 기존 좌표계에서 얼마나 회전되어 있는지
    - 오일러각: 물체의 자세를 3축 회전 Roll, Pitch, Yaw로 표현 => 직관적 이해 쉽지만 짐벌락 현상 발생
        - 짐벌락? : 두 회전축이 겹치는 현상, 회전축이 겹치게 되면 돌릴 수 있는 축 하나 사라짐.
    - 쿼터니언: 타원체 형태로 표현, 벡터 x,y,z, 스칼라 w => 짐벌락 X, 빠른 연산처리, 그러나 직관적으로 이해하기 어려움
    - 보통 IMU 센서에서 얻은 각속도 데이터를 바탕으로 물체의 자세 추정 (쿼터니언 <-> 오일러각 변환식 사용) => ROS의 TF 패키지로 쉽게 활용  

3. **정밀 도로 지도** 
    - 자율주행에 필요한 정보를 3차원으로 제작한 전자 지도
    - 차선, 도로 시설, 표지 시설로 구분
    - m 단위의 오차가 발생하면 사고 가능성 증가 
    - 센서가 갖는 기술적 한계를 보완하기 위해 차량이 미리 가지고 있는 정밀한 지도 정보 필수!!
        - 인지, 판단, 제어까지 짧은 시간
        - 다양한 센서를 통한 많은 데이터 처리의 한계  

4. **경로 계획**
    - 출발지에서 목적지까지의 전체적인 전역 경로 계획
    - 장애물 회피를 위한 지역 경로 계획
    - 다익스트라 활용: 시작 노드 부터 다른 모든 노드까지의 최단 경로 알고리즘
    - Pure pursuit: 경로 위의 한 점을 원 호를 그리며 따라가는 방법
        - 자동차 기구학과 전방주시거리로 조향각을 간단하게 계산 가능
        - 실제 자동차 모델(Ackermann geometry)를 단순화 한 Bicycle 모델 사용
    - PID : 원하는 값에 도달하기 위한 기초적인 자동 피드백 제어 방법
        - 수식 간단, 제어 대상의 모델 필요 없음. 
        - 현재 사용하는 속도 제어기에서는 목표 속도(목표), 현재 속도(현재), 목표속도-현재속도(오차) => P(비례), I(적분), D(미분)을 통해 현재 값을 목표 값으로 수렴 
        - 원하는 성능을 얻기 위해 P, I, D 이득 값을 적절히 튜닝해야!
    - 경로기반 속도 계획
        - 경로에서 얼마만큼의 속도를 내야하는가
        - 직선에서는 비교적 빠른 속도, 곡선에서는 빠른 속도 주행 불가능
        - 곡선 주행 시 차량 전복되는 것을 방지 
    - ACC (Adaptive Cruise Control)
        - 운전자가 설정한 속도로 주행하다가 환경 인지 센서로 앞 차를 인지하고 간격을 유지하는 시스템
        - 정지해 있는 장애물은 속도가 0인 자동차와 같다고 판단

## 8/28 Wed.
1. **Sub PJT2: Node의 TODO 작성**
    - gps_parser.py
    - gpsimu_parser.py

2. **Multi Ego 및 Ego Mode 확인**
    - 다중 제어 방법 확인하기 

## 8/29 Thu.
1. **Multi Ego**
    - 미리 Ego들을 생성 후 차량 개수와 인덱스를 맞춰서 발행하면 제어 가능
    - 각 Ego별 /ego ~ 로 topic이 생성됨 => 이를 활용해서 각 Ego 차량 로직 제어 가능할 듯?
2. **Scenario**
    - 시뮬레이터 상에서 직접 load 하는 것이 편한 듯.

## 8/30 Fri.
1. **MORAI-Sim과 Rviz 연동 - 시각화**
    - 전역 경로: 초록, 지역 경로: 빨간, 차량의 위치 실시간으로 확인 

## 8/31 Sat.
1. **Sub PJT 2 완료**
    - Adaptive_Cruise_Control
![acc-ezgif.com-optimize](/uploads/bcb93704d377391e96ff6055813aa813/acc-ezgif.com-optimize.gif)